# 11. Community Detection and Online Graph Algorithms

## Community Detection

Goal: find densely linked clusters.

### Strength of Weak Ties

If the number of hops between two nodes is large, the connection is likely to be a weak tie.

Edge betweenness: number of shortest paths passing along an edge.

### Girvan-Newman

Find the link with the highest betweenness factor and remove it.

By repeating, the network can be decomposed in a hierarchical manner.

#### Computing Betweenness

Pick starting node $A$ and run a breadth first search. Nodes at layer $n$ will be $n$ edges away from $A$.

Store information about links *between edges on the same level*, and an edge can have multiple parents.

BFS: count number of shortest paths from $A$ to all other nodes; each step should always go down (TODO up?) a level.

Compute betweenness by working up the tree.

TODO

## TODO

Two questions:

- How to compute betweenness
- How to select the number of clusters? Until each cluster has a single node?

### Network Communities

Edges that link two communities, and how strongly an edge is within a community TODO lecture

Communities: sets of tightly connected nodes

Modularity $Q$: a measure of how well a network is partitioned

TODO

null model

#### Null Model

If you look at the entire graph, there is a distribution of degrees. Count total number of degrees and divide by two times the number of nodes; this is the expected number of edges per node. Expect the subgroup to have the same amount.

$0.3 \ge Q \ge 0.7$ means significant community structure in most graphs. $1$ means all the connections are within the subgroup.

Modularity 0 initially; one community within the graph so TODO

Often there will be an inflection point at which maximum modularity is reached.






What defines a community: does the output of the algorithm match our intuitive sense of what a community is?

# 12. TODO

## Additional Spark TODO

- GraphX: represents graph as RDD; PageRank built in
- MLib: common ML algorithms inc. clustering (for high-dimensional spaces that are niggly to represent as graphs)
- Streaming: for live-streamed data (e.g. online ad matching)
- SQL: wrapper around RDDs

TODO

### 

What if everything is connected?

Tangentially related as they are in the same domain. May not be direct connections or connections may be connected on the fly.



Can always find cost between any two points; direct connection exists for every single point.

Given a set of points with a notion of *distance* between points, group the points into some number of *clusters*.

This is a problem, especially for higher-dimensional spaces. e.g. for movie recommendations, each movie is a dimension.

TODO


### Point Assignment: $k$-means

Pick the number of clusters $k$ and initialize clusters by picking one point for each cluster (hopefully each far away from the other points).

For each point, place it in the cluster whose centroid ('center of mass' of a cluster) is the nearest. Need to compute $nk$ distances per iteration.

After all points are assigned, update the locations of the centroids (a computed value so it is not necessarily an existing point).

Repeat until it converges (i.e. until centroids do not update).

<!-- Then, change $k$ until you find the best number of clusters. -->


### Online Algorithms

Offline/classical algorithms: algorithms have access to the entire input

Online algorithms: algorithm given access to the input one piece at a time, and must make irrevocable decisions along the way.

Given a set of elements being selected and elements doing the selecting (and are willing to select some subset), determine which element should be given.

TODO

How good is the algorithm?

#### Competitive Ratio

Algorithm's *worst* performance over all possible inputs: ratio of algorithm's solution to optimal solution (if future is known).

If average performance is taken, an adversary could ensure the worst case is always reached.

