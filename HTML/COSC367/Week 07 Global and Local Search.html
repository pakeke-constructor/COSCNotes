<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Week 07 Global and Local Search</title></head>
<body><h1>Week 07: Local and Global Search</h1>
<p>An optimization problem has:</p>
<ul>
<li>A set of variables and their domains</li>
<li>An <strong>objective function</strong></li>

</ul>
<p>The assignment that optimizes (maximize/minimize) the value of the objective function must be found.</p>
<p>A <strong>constrained optimization problem</strong> adds a set of constraints which determines which assignments are allowed.</p>
<h2>Local Search</h2>
<p>Use algorithms to <strong>iteratively improve</strong> a state.</p>
<p>A single <strong>current state</strong> is kept in memory and in each iteration, we move to one of its neighbours to improve it.</p>
<p>Most local search algorithms are greedy. Two such algorithms are <strong>hill climbing</strong> and <strong>greedy descent</strong>.</p>
<p>e.g. TSP: start with any complete tour, and perform pairwise exchanges (pick two edges, switch the vertex to one in the other edge). This type of approach can get close to the optimal solution quickly.</p>
<h3>Local Search for CSPs</h3>
<p>CSP can be reduced to an optimization problem.</p>
<p>If each variable is assigned a value, a <strong>conflict</strong> is an unsatisfied constraint: the goal is to find an assignment with zero conflicts.</p>
<p>Hence, the heuristic function to to be minimized will be the number of conflicts.</p>
<h4>Example: <em>n</em>-queens problem</h4>
<p>Put <em>n</em> queens on an <em>n</em> by <em>n</em> board such that no two queens can attack each other.</p>
<p>Heuristic: number of pairs of queens that can attack each other.</p>
<p>One queen on each column, queens can move up and down only. For each state there will be <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.595ex" height="2.577ex" viewBox="0 -806.1 3700.4 1109.7" role="img" focusable="false" style="vertical-align: -0.705ex;"><defs><path stroke-width="0" id="E249-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E249-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E249-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path stroke-width="0" id="E249-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E249-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E249-MJMATHI-6E" x="0" y="0"></use><use xlink:href="#E249-MJMAIN-28" x="600" y="0"></use><use xlink:href="#E249-MJMATHI-6E" x="989" y="0"></use><use xlink:href="#E249-MJMAIN-2212" x="1811" y="0"></use><use xlink:href="#E249-MJMAIN-31" x="2811" y="0"></use><use xlink:href="#E249-MJMAIN-29" x="3311" y="0"></use></g></svg></span><script type="math/tex">n(n-1)</script> neighbours (each can move to <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.394ex" height="2.11ex" viewBox="0 -755.9 2322.4 908.7" role="img" focusable="false" style="vertical-align: -0.355ex;"><defs><path stroke-width="0" id="E250-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E250-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path stroke-width="0" id="E250-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E250-MJMATHI-6E" x="0" y="0"></use><use xlink:href="#E250-MJMAIN-2212" x="822" y="0"></use><use xlink:href="#E250-MJMAIN-31" x="1822" y="0"></use></g></svg></span><script type="math/tex">n-1</script> locations).</p>
<h3>Variants of Greedy Descent</h3>
<ul>
<li>Find the variable-value pair that minimises the number of conflicts at each step</li>
<li>Select the variable that participates in the most number of conflicts, and find the value of that variable that minimizes this</li>
<li>Select a variable that appears in any conflict and find the value of that variable that minimizes this</li>

</ul>
<h3>Issues</h3>
<p>Can get stuck in <strong>local optima</strong>/flat areas of the <strong>landscape</strong> - randomized greedy descent can sometimes help:</p>
<ul>
<li>Random <strong>step</strong>: move to a random neighbour</li>
<li>Random <strong>restart</strong>: reassign random values to all variables</li>

</ul>
<p>These two make the search global.</p>
<h2>Parallel Search</h2>
<p>A total assignment is called an <strong>individual</strong>.</p>
<p>Maintain a population of <em>k</em> individuals instead of one and update each individual at every stage. If an individual is a solution, it can be reported (and the search can stop).</p>
<p>With local search, random restarts will occur when it reaches a non-zero local minimum and finish when a solution is found.</p>
<p>With parallel search, if a solution is found all individuals can be stopped.</p>
<h2>Simulated Annealing</h2>
<ul>
<li><p>Pick a variable at random</p>
<ul>
<li>Pick a value at random</li>

</ul>
</li>
<li><p>If it is an improvement, adopt it</p>
</li>
<li><p>If not. adopt it with some probability</p>
</li>

</ul>
<p>Given:</p>
<ul>
<li>The current assignment is <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.394ex" height="1.41ex" viewBox="0 -504.6 600 607.1" role="img" focusable="false" style="vertical-align: -0.238ex;"><defs><path stroke-width="0" id="E10-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E10-MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex">n</script></li>
<li>The proposed assignment <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.077ex" height="2.227ex" viewBox="0 -856.4 894.5 958.9" role="img" focusable="false" style="vertical-align: -0.238ex;"><defs><path stroke-width="0" id="E9-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E9-MJMAIN-2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E9-MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E9-MJMAIN-2032" x="848" y="513"></use></g></svg></span><script type="math/tex">n'</script></li>
<li>The objective function <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.338ex" height="1.994ex" viewBox="0 -755.9 576 858.4" role="img" focusable="false" style="vertical-align: -0.238ex;"><defs><path stroke-width="0" id="E24-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E24-MJMATHI-68" x="0" y="0"></use></g></svg></span><script type="math/tex">h</script></li>
<li>The current <strong>temperature parameter</strong> is <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.635ex" height="1.877ex" viewBox="0 -755.9 704 808.1" role="img" focusable="false" style="vertical-align: -0.121ex;"><defs><path stroke-width="0" id="E251-MJMATHI-54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E251-MJMATHI-54" x="0" y="0"></use></g></svg></span><script type="math/tex">T</script></li>

</ul>
<p>The probability of adopting the new value is:</p>
<div contenteditable="false" spellcheck="false" class="mathjax-block md-end-block md-math-block md-rawblock" id="mathjax-n215" cid="n215" mdtype="math_block"><div class="md-rawblock-container md-math-container" tabindex="-1"><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-251-Frame" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.749ex" height="2.577ex" viewBox="0 -1007.2 5489.2 1109.7" role="img" focusable="false" style="vertical-align: -0.238ex; max-width: 100%;"><defs><path stroke-width="0" id="E252-MJMATHI-65" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path><path stroke-width="0" id="E252-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E252-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path><path stroke-width="0" id="E252-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E252-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path stroke-width="0" id="E252-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path stroke-width="0" id="E252-MJMAIN-2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path><path stroke-width="0" id="E252-MJMAIN-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path><path stroke-width="0" id="E252-MJMATHI-54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E252-MJMATHI-65" x="0" y="0"></use><g transform="translate(466,412)"><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMATHI-68" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-28" x="965" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMATHI-6E" x="1354" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-29" x="1954" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-2212" x="2343" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMATHI-68" x="3121" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-28" x="3697" y="0"></use><g transform="translate(2889,0)"><use transform="scale(0.707)" xlink:href="#E252-MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="#E252-MJMAIN-2032" x="848" y="513"></use></g><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-29" x="4980" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-29" x="5369" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMAIN-2F" x="5758" y="0"></use><use transform="scale(0.707)" xlink:href="#E252-MJMATHI-54" x="6258" y="0"></use></g></g></svg></span></div><script type="math/tex; mode=display" id="MathJax-Element-251">e^{(h(n) - h(n'))/T}</script></div></div>
<p>As temperature gets reduced, the probability of accepting a change decreases.</p>
<h2>Gradient Descent</h2>
<p>Objective function must be (mostly) differentiable:</p>
<pre><code class='language-python' lang='python'>def gradient_descent(f, initial_guess):
  # f = objective function
  x = initial_guess # x is a vector
  while magnitude(grad(f)(x)) &gt; epsilon:
    # f is a multi-variable function, so \nabla f returns a vector
    x = x - step_size * grad(f)(x)
    # Steepest slope is along the vector, so walk along it
</code></pre>
<h2>Evolutionary Algorithms</h2>
<p>Requires:</p>
<ul>
<li>Representation</li>
<li>Evaluation function</li>
<li>Selection of parents</li>
<li>Reproduction operators</li>
<li>Initialize procedures</li>
<li>Parameter settings</li>

</ul>
<h3>Flow</h3>
<p>After initializing the population:</p>
<ul>
<li><p>Calculate fitness of individuals</p>
<ul>
<li>Terminate if &#39;perfect&#39; individual found, time limit reached etc.</li>

</ul>
</li>
<li><p>Select individuals (some randomness required)</p>
</li>
<li><p>Crossover: select two or more candidate individuals and somehow combine them</p>
</li>
<li><p>Mutation</p>
</li>

</ul>
<h3>Evaluation/Fitness Function</h3>
<p>A value relating to how &#39;good&#39; an individual is.</p>
<p>Used for:</p>
<ul>
<li>Parent selection: which parents will reproduce</li>
<li>Measure of convergence: when performance no longer increases significantly between generations</li>
<li>Steady state: selecting which individuals will die</li>

</ul>
<h3>Selection</h3>
<p>Better individuals should have a higher chance of surviving and breeding.</p>
<h4>Roulette wheel</h4>
<p>Each individual is assigned to a part of the roulette wheel, with the &#39;angle&#39; being proportional to its fitness, and it is spun <em>n</em> times to select <em>n</em> individuals.</p>
<ul>
<li>Sum the fitness of individuals to variable <em>T</em></li>
<li>Generate a random number <em>N</em> between <em>1</em> and <em>T</em></li>
<li>Return the first individual whose fitness added to the running total is equal to or larger than <em>N</em></li>

</ul>
<pre><code class='language-python' lang='python'>def roulette_wheel_select(population, fitness, r):
  total_fitness = sum([fitness(individual) for individual in population])

  rolling_sum = 0

  for individual in population:
    rolling_sum += fitness(individual)
    if rolling_sum &gt; total_fitness * r:
      return individual
</code></pre>
<h4>Tournaments</h4>
<p><em>n</em> (size of the tournament) individuals chosen randomly: the fittest one is selected as a parent.</p>
<p>If <em>n</em> is one, it is equivalent to randomly selecting an individual.</p>
<p>If <em>n</em> is the population size, it is completely deterministic.</p>
<h3>Elitism</h3>
<p>Keeps at least one copy of the fittest solution so far for the next generation - ensures the fitness will not decrease over generations.</p>
<h3>Reproduction Operators</h3>
<h4>Crossover</h4>
<p>Two parents produce two offspring. 1, 2 or <em>n</em> <strong>crossover points</strong> are generated:</p>
<p>One point crossover: child has parent one&#39;s chromosomes up until the random cross over point; after that is the other parent&#39;s chromosomes.</p>
<p><em>n</em> point crossover: at <em>n</em> separate points, it swaps from getting chromosomes from one parent to the other.</p>
<h4>Mutation</h4>
<p>Mutation gives a low probability of randomly changing the gene of a child.</p>
<p>Mutation brings in diversity as compared to combining candidates to (hopefully) produce better children.</p>
<h3>Randomly Generating Programs (Trees)</h3>
<ul>
<li>Pick a non-terminal</li>
<li>Pick children for that element, either a terminal or non-terminal</li>
<li>Repeat</li>

</ul>
<p>Mutation: pick a random node and replace the subtree with a randomly-generated subtree.</p>
<p>Crossover: pick a random node in each parent and exchange them.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>